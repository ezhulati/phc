---
/**
 * Insurance Partners Logos Component
 * Displays insurance provider logos in an auto-sliding carousel
 */

import insuranceProviders from '@/data/insurance-providers.json';

interface Props {
  lang?: 'en' | 'es';
}

const { lang = 'en' } = Astro.props;

const title = lang === 'es'
  ? 'Aceptamos la mayoria de los seguros principales'
  : 'We accept most major insurance';
---

<section class="py-12 bg-white overflow-hidden">
  <p class="text-neutral-600 text-base mb-6 mx-auto" style="text-align: center; width: 100%;">{title}</p>
  <div class="relative w-full">
    <div class="logo-carousel flex items-center gap-12 md:gap-16">
      {/* First set of logos */}
      {insuranceProviders.map((provider) => (
        <div class="flex-shrink-0 flex items-center justify-center px-4">
          <img
            src={provider.logo}
            alt={provider.alt}
            class="h-8 md:h-10 w-auto object-contain grayscale hover:grayscale-0 transition-all duration-300"
            loading="lazy"
          />
        </div>
      ))}
      {/* Duplicate for seamless loop */}
      {insuranceProviders.map((provider) => (
        <div class="flex-shrink-0 flex items-center justify-center px-4">
          <img
            src={provider.logo}
            alt={provider.alt}
            class="h-8 md:h-10 w-auto object-contain grayscale hover:grayscale-0 transition-all duration-300"
            loading="lazy"
          />
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .logo-carousel {
    animation: scroll 20s linear infinite;
    width: fit-content;
  }

  .logo-carousel:hover {
    animation-play-state: paused;
  }

  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
</style>
